Turbo Assembler	 Version 4.1	    12/02/25 22:33:14	    Page 1
main.ASM



      1				     ideal
      2				     dosseg
      3	0000			     model small
      4	0000			     stack 256
      5
      6	0100			     dataseg
      7	0000  00			 codsal	db 0
      8	0001  45 73 63 72 69 62	61+	 msg1 db 'Escriba la fraccion: ', 0
      9	      20 6C 61 20 66 72	61+
     10	      63 63 69 6F 6E 3A	20+
     11	      00
     12	0017  45 6C 20 4D 43 44	20+	 msg3 db 'El MCD es: ',0
     13	      65 73 3A 20 00
     14	0023  15*(??)			 entrada  db 21	dup(?)
     15	0038  ????			 num1 dw ?
     16	003A  ????			 num2 dw ?
     17	003C  ????			 Elmcd dw ?
     18	003E  15*(??)			 smcd db 21 dup(?)
     19
     20	0053			     codeseg
     21				     extrn mcd:proc, agets:proc,aputs:proc,itoa:proc,aatoi:proc,sscan:proc
     22
     23	0000			     inicio:
     24	0000  B8 0000s			 mov ax,@data
     25	0003  8E D8			 mov ds,ax
     26	0005  8E C0			 mov es,ax
     27
     28					 ; 1. Pedir dato 1
     29	0007  BE 0001r			 mov si, offset	msg1
     30	000A  E8 0000e			 call aputs
     31
     32					 ; 2. Leer dato	1
     33	000D  BF 0023r			 mov di, offset	entrada
     34	0010  B9 0014			 mov cx, 20
     35	0013  E8 0000e			 call agets
     36
     37					 ;3. Separar cadenas
     38	0016  BE 0023r			 mov si, offset	entrada
     39	0019  E8 0000e			 call sscan
     40
     41					 ;4. aplicar el	mcd
     42					 ;mcd espera ax,dx
     43	001C  E8 0000e			 call mcd
     44	001F  A3 003Cr			 mov [Elmcd],ax	;guardamos el resultado
     45
     46					 ; 7. Imprimir "Resultado:
     47	0022  BE 0017r			 mov si, offset	msg3
     48	0025  E8 0000e			 call aputs
     49
     50					 ;en este codigo especifico dx tiene trash
     51	0028  33 D2			 xor dx,dx
     52
     53					 ; 8. Convertir	Numero (DX:AX) a Texto en mcd
     54	002A  BF 003Er			 mov di, offset	smcd
     55	002D  E8 0000e			 call itoa
     56
     57					 ; 9. Imprimir el numero convertido
Turbo Assembler	 Version 4.1	    12/02/25 22:33:14	    Page 2
main.ASM



     58	0030  BE 003Er			 mov si, offset	smcd
     59	0033  E8 0000e			 call aputs
     60
     61	0036			     fin:
     62	0036  B4 4C			 mov ah, 04Ch
     63	0038  A0 0000r			 mov al,[codsal]
     64	003B  CD 21			 int 21h
     65
     66				     end inicio
Turbo Assembler	 Version 4.1	    12/02/25 22:33:14	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "12/02/25"
??FILENAME			  Text	 "main	  "
??TIME				  Text	 "22:33:14"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 MAIN
@INTERFACE			  Text	 000H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
AATOI				  Near	 _TEXT:---- Extern
AGETS				  Near	 _TEXT:---- Extern
APUTS				  Near	 _TEXT:---- Extern
CODSAL				  Byte	 DGROUP:0000
ELMCD				  Word	 DGROUP:003C
ENTRADA				  Byte	 DGROUP:0023
FIN				  Near	 _TEXT:0036
INICIO				  Near	 _TEXT:0000
ITOA				  Near	 _TEXT:---- Extern
MCD				  Near	 _TEXT:---- Extern
MSG1				  Byte	 DGROUP:0001
MSG3				  Byte	 DGROUP:0017
NUM1				  Word	 DGROUP:0038
NUM2				  Word	 DGROUP:003A
SMCD				  Byte	 DGROUP:003E
SSCAN				  Near	 _TEXT:---- Extern

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0100 Para	  Stack	  STACK
  _DATA				  16  0053 Word	  Public  DATA
_TEXT				  16  003D Word	  Public  CODE
