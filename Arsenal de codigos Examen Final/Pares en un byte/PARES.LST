Turbo Assembler	 Version 4.1	    12/01/25 23:29:22	    Page 1
pares.ASM



      1				     ideal
      2				     dosseg
      3	0000			     model small
      4	0000			     stack 256
      5
      6	0100			     dataseg
      7	0000  00			 codsal	db 0
      8	0001  45 73 63 72 69 62	65+	 msg1	db 'Escribe el numero: ', 0
      9	      20 65 6C 20 6E 75	6D+
     10	      65 72 6F 3A 20 00
     11	0015  0D 0A 70 61 72 65	73+	 msgres	db 13, 10, 'pares encontrados: ', 0
     12	      20 65 6E 63 6F 6E	74+
     13	      72 61 64 6F 73 3A	20+
     14	      00
     15	002B  14*(??)			 buffer	db 20 dup(?)
     16
     17	003F  ????			 num	dw ?
     18	0041  0000			 pares	dw 0
     19
     20	0043			     codeseg
     21					 ; importamos tus herramientas
     22					 ; aatoi ya sabe leer hexa y binario sola
     23					 extrn aputs:proc, agets:proc, aatoi:proc, itoa:proc
     24
     25	0000			     inicio:
     26	0000  B8 0000s			 mov ax, @data
     27	0003  8E D8			 mov ds, ax
     28	0005  8E C0			 mov es, ax
     29
     30					 ; pedir numero
     31	0007  BE 0001r			 mov si, offset	msg1
     32	000A  E8 0000e			 call aputs
     33
     34	000D  BF 002Br			 mov di, offset	buffer
     35	0010  B9 0013			 mov cx, 19
     36	0013  E8 0000e			 call agets
     37
     38					 ; convertir texto a numero
     39	0016  BE 002Br			 mov si, offset	buffer
     40	0019  E8 0000e			 call aatoi	     ; devuelve	el valor en ax
     41
     42					 ; limpiar parte alta por si acaso (solo nos interesan 8 bits)
     43	001C  25 00FF			 and ax, 00ffh
     44	001F  A3 003Fr			 mov [num], ax
     45
     46					 ; logica de pares (00 o 11)
     47	0022  B9 0007			 mov cx, 7	     ; vamos a comparar	7 veces
     48	0025  8B 1E 003Fr		 mov bx, [num]	     ; cargamos	el numero
     49	0029  33 FF			 xor di, di	     ; contador	de pares en 0
     50
     51	002B			     ciclo_pares:
     52					 ; aislar los 2	ultimos	bits
     53	002B  8B C3			 mov ax, bx	     ; copia de	seguridad
     54	002D  25 0003			 and ax, 3	     ; mascara 0000...0011
     55
     56					 ; checar si son '11' (3)
     57	0030  3D 0003			 cmp ax, 3
Turbo Assembler	 Version 4.1	    12/01/25 23:29:22	    Page 2
pares.ASM



     58	0033  74 08			 je es_par
     59
     60					 ; checar si son '00' (0)
     61	0035  3D 0000			 cmp ax, 0
     62	0038  74 03			 je es_par
     63
     64	003A  EB 02 90			 jmp siguiente	     ; si es 01	o 10, no cuenta
     65
     66	003D			     es_par:
     67	003D  47			 inc di		     ; encontramos uno
     68
     69	003E			     siguiente:
     70	003E  D1 EB			 shr bx, 1	     ; recorremos a la derecha para ver	el siguiente
     71	0040  E2 E9			 loop ciclo_pares    ; repetir
     72
     73					 ; mostrar resultado
     74	0042  BE 0015r			 mov si, offset	msgres
     75	0045  E8 0000e			 call aputs
     76
     77	0048  8B C7			 mov ax, di	     ; pasamos la cuenta a ax
     78	004A  33 D2			 xor dx, dx
     79	004C  BF 002Br			 mov di, offset	buffer
     80	004F  E8 0000e			 call itoa
     81
     82	0052  BE 002Br			 mov si, offset	buffer
     83	0055  E8 0000e			 call aputs
     84
     85	0058			     salir:
     86	0058  B4 4C			 mov ah,04Ch
     87	005A  A0 0000r			 mov al,[codsal]
     88	005D  CD 21			 int 21h
     89
     90				     end inicio
Turbo Assembler	 Version 4.1	    12/01/25 23:29:22	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "12/01/25"
??FILENAME			  Text	 "pares	  "
??TIME				  Text	 "23:29:22"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 _TEXT
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 PARES
@INTERFACE			  Text	 000H
@MODEL				  Text	 2
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
AATOI				  Near	 _TEXT:---- Extern
AGETS				  Near	 _TEXT:---- Extern
APUTS				  Near	 _TEXT:---- Extern
BUFFER				  Byte	 DGROUP:002B
CICLO_PARES			  Near	 _TEXT:002B
CODSAL				  Byte	 DGROUP:0000
ES_PAR				  Near	 _TEXT:003D
INICIO				  Near	 _TEXT:0000
ITOA				  Near	 _TEXT:---- Extern
MSG1				  Byte	 DGROUP:0001
MSGRES				  Byte	 DGROUP:0015
NUM				  Word	 DGROUP:003F
PARES				  Word	 DGROUP:0041
SALIR				  Near	 _TEXT:0058
SIGUIENTE			  Near	 _TEXT:003E

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  STACK				  16  0100 Para	  Stack	  STACK
  _DATA				  16  0043 Word	  Public  DATA
_TEXT				  16  005F Word	  Public  CODE
